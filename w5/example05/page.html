<link rel="stylesheet" type="text/css" href="../files/basic.css" />
<script src="https://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script>
<script src="../../paperjs-v0.12.11/dist/paper-core.js"></script>
<script src="../files/Helpers.js"></script>

<h1>PaperJs - Week 5 - Example 5</h1>
<h2>Getting the next set of positions</h2>


<div class="container">
	
</div>
<canvas id="canvas" width="980" height="550"></canvas>

<script type="text/javascript">
	paper.install(window);
	window.onload = function() {
		paper.setup('canvas');

		Helpers.drawField(5);

		// get a new layer for testing. it should auto set to activeLayer
		var testLayer = new paper.Layer({
			name: 'test'
		});

		var startingPoint = Helpers.drawPoint(490,275,'X');

		var stepsTaken = 0;
		var direction = Helpers.MOVE.FM;

		view.onFrame = function(event) {
			if (direction == Helpers.MOVE.FM) {
				startingPoint.position = Helpers.getNextPosition(startingPoint.position, direction);
				stepsTaken += 1;
				if (stepsTaken == 42) {
					direction = Helpers.MOVE.BM;
					stepsTaken = 0;
				}
			} else {
				startingPoint.position = Helpers.getNextPosition(startingPoint.position, direction);
				stepsTaken += 1;
				if (stepsTaken == 42) {
					direction = Helpers.MOVE.FM;
					stepsTaken = 0;
				}
			}
		}
		
	}
</script>